#version 460

layout(binding = 0, set = 0, rgba8) uniform image2D image;

layout(binding = 3, set = 0, rgba32f) uniform image2D direct_illumination;
layout(binding = 5, set = 0, rgba32f) uniform image2D shadows;

void main() {
    const ivec2 xy = ivec2(gl_GlobalInvocationID.xy);

    const vec4 direct_illum = imageLoad(direct_illumination, xy);
    const vec4 shadows = imageLoad(shadows, xy);

    imageStore(image, xy, direct_illum * shadows);
}
